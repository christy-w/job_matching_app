<common-header [enable-back]="true"></common-header>

<ion-content>
	<div class="page-title">設定及喜好</div>
	<div class="page-desp">系統會根據你填寫的設定及喜好，為你尋找合心意的工作。</div>
	<div class="section-wrapper" *ngIf="setting_fields">
		<div ion-item class='list-title-item'>
			<ion-label>
				<div class="list-title">我的設定</div>
			</ion-label>
		</div>
		<div class="list-card" *ngFor="let preference of preference_fields">
			<div class="card-wrapper">
				<div class="item-wrapper" [ngSwitch]="preference.field_type">
					<!-- Multi select type -->
					<div class="list-item" *ngSwitchCase="'multi_select'">
						<ion-row class="item-header">
							<ion-col col-10 class="item-header-left" tappable>
								<ion-label>
									<ion-icon name="arrow-down"></ion-icon>
									{{ preference['name_' + language] }}
								</ion-label>
							</ion-col>
							<ion-col col-2 class="item-header-right">
								<ion-select [(ngModel)]="preference.importance" multiple="false">
									<ion-option [value]="option.value" *ngFor="let option of preference_options">{{ option['name_' + language] }}</ion-option>
								</ion-select>
							</ion-col>
						</ion-row>
						<div class="preference-wrapper">
							<button class="preference-btn" *ngFor="let option of preference.options" [ngClass]="{'highlight' : option.selected}" (click)="setPreference(preference, option)">{{ option['option_' + language] }}</button>
						</div>
					</div>
					<!-- Input type -->
					<div class="list-item" *ngSwitchCase="'input'">
						<ion-row class="item-header">
							<ion-col col-10 class="item-header-left" tappable>
								<ion-label>
									<ion-icon name="arrow-down"></ion-icon>
									{{ preference['name_' + language] }}
								</ion-label>
							</ion-col>
							<ion-col col-2 class="item-header-right">
								<ion-select [(ngModel)]="preference.importance" multiple="false">
									<ion-option [value]="option.value" *ngFor="let option of preference_options">{{ option['name_' + language] }}</ion-option>
								</ion-select>
							</ion-col>
						</ion-row>
						<div class="preference-wrapper">
							<ion-input [(ngModel)]="preference.selection" placeholder="請輸入數字，例如15,000，請輸入15000">$</ion-input>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</ion-content>
